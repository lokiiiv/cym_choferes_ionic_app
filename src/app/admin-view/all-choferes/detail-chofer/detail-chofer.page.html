<ion-header class="ion-no-border header-main">
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-back-button routerLink="/admin-tabs/main/choferes-lista"></ion-back-button>
		</ion-buttons>
	</ion-toolbar>

  <ion-item lines="none">
      <div class="main">
        <ion-icon name="car"></ion-icon>
      </div>
			<ion-label>
        <h1>Detalle de chofer</h1>
			</ion-label>
	</ion-item>
</ion-header>

<ion-content class="main">
  <div class="slides ion-margin-bottom">
   
  </div>

  <div class="container">
    <ion-item lines="none">
      <ion-grid>
        <ion-row>
          <ion-col class="ion-text-center">
            <ion-card-title> {{ nombre }} </ion-card-title>
            <ion-item lines="none">
              <div class="img-chofer">
                <ion-thumbnail>
                  <img alt="" src="{{ foto }}"/>
                </ion-thumbnail>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <h5> Estatus: {{ estatus }} </h5>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Clave: {{ clave }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Rol: {{ rol }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text >
                  <p> Fecha de nacimiento: {{ fechaNacimiento }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Edad: {{ edad }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Fecha de registro: {{ fechaRegistro }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Género: {{ genero }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Estado de procedencia: {{ estado }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Teléfono: {{ telefono }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Completo el video: {{ verVideo }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Realizó cuestionario: {{ contestarQuiz }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <div>
                <ion-text>
                  <p> Documentación completa: {{ subirDocs }} </p>
                </ion-text>
              </div>
            </ion-item>
            <ion-item lines="none">
              <ion-grid>
                <ion-row class="img-chofer">
                  <ion-button class="btn-main" (click)="openDocs()">Descargar documentación</ion-button>
                </ion-row>
              </ion-grid>
            </ion-item>
          </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>
  </div>


  <ion-modal [isOpen]="isModalOpen" (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <ion-header class="header-modal-docs" no-border>
        <ion-toolbar>
          <ion-buttons slot="end">
            <ion-button (click)="setOpen(false)">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      
        <ion-item lines="none">
            <div class="main">
              <ion-icon name="document"></ion-icon>
            </div>
            <ion-label>
              <ion-title>Descargar</ion-title>
            </ion-label>
        </ion-item>
      </ion-header>

      
      <ion-content class="content-modal-docs">

        <div class="slides ion-margin-bottom">
        </div>

        <div class="container">
          <ion-item lines="none" *ngFor="let item of documentList">
            <ion-grid>
              <ion-row class="ion-align-items-center">
                <ion-col sizeXs="10" sizeSm="7">
                  <ion-row> 
                    <ion-text>
                      <h6>{{ item.nombre}}</h6>
                    </ion-text>
                  </ion-row>
                  <ion-row *ngIf="item.tipo != 'file'">
                    <p> {{ item.pivot.valor }} </p>
                  </ion-row>
                </ion-col>
                <ion-col sizeXs="2" sizeSm="5" class="img-chofer">
                  <ion-row *ngIf="item.tipo == 'file'">
                    <ion-text>
                      <ion-button class="btn-icon" (click)="descargarArchivo(item.pivot.valor)"><ion-icon name="download"></ion-icon></ion-button>
                    </ion-text>
                  </ion-row>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>


  <ion-modal [isOpen]="isModalAsistenciaOpen" (willDismiss)="onWillDismissAsistencia($event)">
    <ng-template>
      <ion-header class="header-modal-asistencia" no-border>
        <ion-toolbar>
          <ion-buttons slot="end">
            <ion-button (click)="setOpenAsistencia(false)">Cerrar</ion-button>
          </ion-buttons>
        </ion-toolbar>
      
        <ion-item lines="none">
            <div class="main">
              <ion-icon name="checkmark-done-circle"></ion-icon>
            </div>
            <ion-label>
              <ion-title>Asistencia del chofer</ion-title>
            </ion-label>
            <h6>Las asistencias estan ordenadas de la más reciente a la más antigua.</h6>
        </ion-item>
      </ion-header>

      
      <ion-content class="content-modal-asistencia">

        <div class="slides ion-margin-bottom">
         
        </div>

        <div class="container">
          <ion-item lines="none" *ngFor="let att of asistencias">
            <ion-grid>
              <ion-row class="ion-align-items-center">
                <ion-col>
                  <ion-row> 
                    <ion-text>
                      <h6>Fecha y hora de entrada: {{ att.check_in_at }}</h6>
                    </ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>
                      <h6>Fecha y hora de salida: {{ att.check_out_at }}</h6>
                    </ion-text>
                  </ion-row>
                  <ion-row>
                    <ion-text>
                      <h6>Tiempo total dentro de planta: {{ att.total_time }}</h6>
                    </ion-text>
                  </ion-row>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </div>
      </ion-content>
    </ng-template>
  </ion-modal>

</ion-content>
